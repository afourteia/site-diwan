---
import Layout from '../../layouts/Layout.astro';
import { languages, defaultLang, useTranslations } from '../../i18n';
import contact from '../../data/contact';
import heroImage from '../../assets/Currencies.jpg';

type Locale = keyof typeof languages;
const langParam = Astro.params.lang as Locale | undefined;
const lang = langParam && langParam in languages ? langParam : defaultLang;
export const getStaticPaths = () =>
  (Object.keys(languages) as Locale[]).map((locale) => ({ params: { lang: locale } }));
const t = useTranslations(lang);
const heroImageSrc = heroImage.src;
const serviceCards = [
  { title: t('services.exchange.title'), copy: t('services.exchange.description') },
  { title: t('services.business.title'), copy: t('services.business.description') },
  { title: t('services.consultation.title'), copy: t('services.consultation.description') }
];
const trustHighlights = [
  t('home.trust.detail1'),
  t('home.trust.detail2'),
  t('home.trust.detail3')
];
---

<Layout title={t('nav.home')} description={t('hero.description')}>
  <section class="hero" id="home">
    <div class="container hero-grid">
      <div class="hero-content">
        <p class="hero-subtitle">{t('home.values.title')}</p>
        <h1>{t('hero.title')}</h1>
        <p class="hero-description">{t('hero.description')}</p>
        <p class="hero-highlight">{t('home.values.detail')}</p>
        <div class="hero-cta">
          <a class="btn btn-primary" href={`${lang}/contact`}>{t('hero.cta')}</a>
          <a class="btn btn-ghost" href={`${lang}/about`}>{t('about.title')}</a>
        </div>
      </div>
      <div class="hero-media">
        <div class="hero-media-card">
          <img src={heroImageSrc} alt={t('hero.title')} loading="lazy" />
        </div>
        <div class="hero-highlight">{t('contact.location.value')}</div>
      </div>
    </div>
  </section>

  <section class="section-surface" id="about">
    <div class="section-heading">
      <h2>{t('about.title')}</h2>
      <p>{t('about.description')}</p>
    </div>
    <div class="values-grid">
      <article>
        <h3>{t('about.mission')}</h3>
        <p>{t('about.mission.text')}</p>
      </article>
      <article>
        <h3>{t('about.vision')}</h3>
        <p>{t('about.vision.text')}</p>
      </article>
      <article>
        <h3>{t('home.trust.title')}</h3>
        <ul>
          {trustHighlights.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </article>
    </div>
  </section>

  <section class="section-surface" id="services">
    <div class="section-heading">
      <h2>{t('services.title')}</h2>
      <p>{t('services.description')}</p>
    </div>
    <div class="service-grid">
      {serviceCards.map((card) => (
        <article class="service-card">
          <h3>{card.title}</h3>
          <p>{card.copy}</p>
        </article>
      ))}
    </div>
  </section>

  <section class="contact-panel" id="contact">
    <div class="container">
      <div class="contact-card">
        <div>
          <h3>{t('contact.title')}</h3>
          <p>{t('contact.description')}</p>
        </div>
        <div>
          <p class="contact-detail">
            <strong>{t('contact.email')}:</strong>
            <a href={`mailto:${contact.email}`}>{contact.email}</a>
          </p>
          <p class="contact-detail">
            <strong>{t('contact.phone')}:</strong>
            <a href={`tel:${contact.phone}`}>{contact.phone}</a>
          </p>
          <p class="contact-detail">
            <strong>{t('contact.location')}:</strong> {t('contact.location.value')}
          </p>
          <p class="contact-detail">{contact.site}</p>
        </div>
        <div class="contact-actions">
          <a class="btn btn-primary" href={`mailto:${contact.email}`}>{t('contact.cta')}</a>
          <a class="btn btn-ghost" href={`tel:${contact.phone}`}>{contact.phone}</a>
        </div>
      </div>
    </div>
  </section>
</Layout>
